# Servo controller

В данном проекте реализовано программное обеспечение для тестового стенда на базе сервопривода MG90S и отладочной платы STM32F103 BluePill. Задачей стенда является отработка углового положения привода, задаваемого по траектории с управляющего компьютера.

Проект состоит из двух частей:
+ Генератор траектории. Реализован на языке Python 3.8
+ Программа для микроконтроллера STM32F103 для управления сервоприводом MG90S

## __Генератор траектории__
Для генерации доступны сигналы двух форм:
+ Cинус (частота 0.1 [Гц], амплитуда 30 [градусов])
+ Меандр (частота 0.25 [Гц], амплитуда 30 [градусов])

### __Подключение__
Для сборки тестового стенда необходимо подключить сервопривод к отладочной плате STM32 BluePill. Схема подключения приведена ниже.
| STM32 BluePill | Servo MG90S |
| --- | --- |
| Pin A8 | SIG |
| 5V | 5V |
| GND | GND |

Для подключения тестового стенда к компьютеру используется стандартный кабель USB (TypeB - TypeA).

### __Применение__
Для выбора формы траектории необходимо раскомментировать соответствующую строку в файле Signal _generation.py_. Раскомментирована должна быть только одна из строк.

```python
SIGNAL_TYPE = "SIN"
# SIGNAL_TYPE = "SQUARE"
```

Для дополнительной настройки амплитуды и частоты сигналов можно использовать константы в том же файле.
```python
# SIN params
F_SIGNAL_SIN = 0.1  # [Hz] - SIN signal freq
AMP_SIN = 30  # [deg] - SIN signal amplitude

# SQUARE params
F_SIGNAL_SQUARE = 0.25  # [Hz] - SQUARE signal freq
AMP_SQUARE = 30  # [deg] - SQUARE signal amplitude
```
Для запуска скрипта необхоимо прописать в командной строке команду из корневой папки проекта.
```bash
python ".\Station program\signal_generation.py"
```

### __Список использованных программных средств__
+ python (ver 3.8)
+ pyserial (ver 3.5)